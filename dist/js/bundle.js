!function(e){var n={};function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=9)}([function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-underscore-dangle */\nvar Logger = {\n  _loggerContainer: document.querySelector('.log-container__content'),\n  getlLogNode: function getlLogNode(log) {\n    var logTmp = '<div class=\"log\">' + log + '</div>';\n    var domElement = document.createElement('div');\n    domElement.innerHTML = logTmp;\n\n    return domElement.firstChild;\n  },\n  clearLogs: function clearLogs() {\n    this._loggerContainer.innerHTML = '';\n  },\n  log: function log() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var logStr = args.join(' - ');\n    var logNode = this.getlLogNode(logStr);\n    this._loggerContainer.appendChild(logNode);\n  }\n};\n\nexports.default = Logger;\n\n//# sourceURL=webpack:///./src/js/utils/logger.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _dispatcher = __webpack_require__(6);\n\nvar _dispatcher2 = _interopRequireDefault(_dispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = new _dispatcher2.default();\n\n//# sourceURL=webpack:///./src/js/send-dispatcher.js?')},function(module,exports){eval("// removed by extract-text-webpack-plugin\n\n//# sourceURL=webpack:///./src/scss/style.scss?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/* eslint-disable no-underscore-dangle */\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this._events = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: "subscribe",\n    value: function subscribe(eventName, fn) {\n      if (!this._events[eventName]) {\n        this._events[eventName] = [];\n      }\n\n      this._events[eventName].push(fn);\n    }\n  }, {\n    key: "emit",\n    value: function emit(eventName, data) {\n      var event = this._events[eventName];\n      if (event) {\n        event.forEach(function (fn) {\n          return fn.call(null, data);\n        });\n      }\n    }\n  }, {\n    key: "unsubcribe",\n    value: function unsubcribe(eventName, fn) {\n      this.events[eventName] = this.events[eventName].filter(function (eventFn) {\n        return fn !== eventFn;\n      });\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n\n//# sourceURL=webpack:///./src/js/utils/event-emitter.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable no-underscore-dangle, class-methods-use-this */\n\n\nvar _eventEmitter = __webpack_require__(3);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nvar _logger = __webpack_require__(0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Store = function () {\n  function Store(dispatcher) {\n    var _this = this;\n\n    _classCallCheck(this, Store);\n\n    this._changed = false;\n    this._changeEvent = 'dataIsSent';\n    this._dispatcher = dispatcher;\n    this._emitter = new _eventEmitter2.default();\n    this._state = this.getInitialState();\n    this._dispatchToken = dispatcher.register(function (payload) {\n      _this._invokeOnDispatch(payload);\n    });\n  }\n\n  /**\n   * @param {function} callback\n   */\n\n\n  _createClass(Store, [{\n    key: 'addListener',\n    value: function addListener(callback) {\n      _logger2.default.log('подписал DOM ноду на изменение данных');\n      return this._emitter.subscribe(this._changeEvent, callback);\n    }\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: 'getInitialState',\n    value: function getInitialState() {}\n\n    /**\n     * @param {any} state\n     * @param {Object} action\n     */\n\n  }, {\n    key: 'reduce',\n    value: function reduce(state, action) {\n      _logger2.default.log(state, action);\n    }\n  }, {\n    key: 'areEqual',\n    value: function areEqual(one, two) {\n      return one === two;\n    }\n\n    /**\n     * Метод для изменения данных в хранилище.\n     *\n     * @param {Object} action\n     */\n\n  }, {\n    key: '_invokeOnDispatch',\n    value: function _invokeOnDispatch(action) {\n      this._changed = false;\n\n      var startingState = this._state;\n      var endingState = this.reduce(startingState, action);\n\n      if (endingState === undefined) {\n        var errorMsg = 'Ваш state не может быть undefined';\n        _logger2.default.log(errorMsg);\n        throw new Error(errorMsg);\n      }\n\n      if (!this.areEqual(startingState, endingState)) {\n        this._state = endingState;\n        this._emitChange();\n        _logger2.default.log('данные в store переписались');\n      }\n\n      if (this._changed) {\n        _logger2.default.log('передача слушателю события');\n        this._emitter.emit(this._changeEvent, this._state);\n      }\n    }\n  }, {\n    key: '_emitChange',\n    value: function _emitChange() {\n      this._changed = true;\n    }\n  }]);\n\n  return Store;\n}();\n\nexports.default = Store;\n\n//# sourceURL=webpack:///./src/js/flux/store.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sendDispatcher = __webpack_require__(1);\n\nvar _sendDispatcher2 = _interopRequireDefault(_sendDispatcher);\n\nvar _store = __webpack_require__(4);\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable class-methods-use-this */\n\n\nvar SendStore = function (_Store) {\n  _inherits(SendStore, _Store);\n\n  function SendStore() {\n    _classCallCheck(this, SendStore);\n\n    return _possibleConstructorReturn(this, (SendStore.__proto__ || Object.getPrototypeOf(SendStore)).call(this, _sendDispatcher2.default));\n  }\n\n  _createClass(SendStore, [{\n    key: \'getInitialState\',\n    value: function getInitialState() {\n      return \'sdfgdfgdfgdf\';\n    }\n  }, {\n    key: \'reduce\',\n    value: function reduce(state, action) {\n      switch (action.type) {\n        case \'change-string\':\n          return action.string;\n\n        default:\n          return state;\n      }\n    }\n  }]);\n\n  return SendStore;\n}(_store2.default);\n\nexports.default = new SendStore();\n\n//# sourceURL=webpack:///./src/js/send-store.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* eslint-disable no-underscore-dangle, no-plusplus */\n\n\nvar _logger = __webpack_require__(0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _prefix = 'ID_';\n\nvar Dispatcher = function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isPending = {};\n    this._isHandled = {};\n    this._lastId = 1;\n  }\n\n  /**\n   * Регистрация callback-а который будет вызван при каждом переданном экшене.\n   * Возвращает токен.\n   *\n   * @param {function} callback\n   * @return {string}\n   */\n\n\n  _createClass(Dispatcher, [{\n    key: 'register',\n    value: function register(callback) {\n      var id = _prefix + this._lastId++;\n      this._callbacks[id] = callback;\n      _logger2.default.log('регистрация диспетчером callbakc-а хранилища, id', id);\n      return id;\n    }\n\n    /**\n     * Удаляет callback по его токену.\n     *\n     * @param {string} id\n     */\n\n  }, {\n    key: 'unregister',\n    value: function unregister(id) {\n      delete this._callbacks[id];\n    }\n\n    /**\n     * Отправдяет payload всем зарегестрированным callback-ам.\n     *\n     * @param {object} payload\n     */\n\n  }, {\n    key: 'dispatch',\n    value: function dispatch(payload) {\n      var _this = this;\n\n      _logger2.default.log('передача данных', JSON.stringify(payload));\n      this._startDispatching(payload);\n      try {\n        Object.keys(this._callbacks).forEach(function (id) {\n          if (_this._isPending[id]) {\n            return;\n          }\n          _this._invokeCallback(id);\n        });\n      } finally {\n        this._stopDispatching();\n      }\n    }\n\n    /**\n     * Вызов callback-а по его токену.\n     *\n     * @param {string} id\n     * @internal\n     */\n\n  }, {\n    key: '_invokeCallback',\n    value: function _invokeCallback(id) {\n      this._isPending[id] = true;\n      this._callbacks[id](this._pendingPayload);\n      this._isHandled[id] = true;\n    }\n  }, {\n    key: '_startDispatching',\n    value: function _startDispatching(payload) {\n      var _this2 = this;\n\n      Object.keys(this._callbacks).forEach(function (id) {\n        _this2._isPending[id] = false;\n        _this2._isHandled[id] = false;\n      });\n      this._pendingPayload = payload;\n      this._isDispatching = true;\n    }\n  }, {\n    key: '_stopDispatching',\n    value: function _stopDispatching() {\n      delete this._pendingPayload;\n      this._isDispatching = false;\n    }\n  }]);\n\n  return Dispatcher;\n}();\n\nexports.default = Dispatcher;\n\n//# sourceURL=webpack:///./src/js/flux/dispatcher.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _sendDispatcher = __webpack_require__(1);\n\nvar _sendDispatcher2 = _interopRequireDefault(_sendDispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sendToServer(data) {\n  _sendDispatcher2.default.dispatch({\n    type: 'change-string',\n    string: data\n  });\n}\n\nexports.default = sendToServer;\n\n//# sourceURL=webpack:///./src/js/send-to-server.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _sendToServer = __webpack_require__(7);\n\nvar _sendToServer2 = _interopRequireDefault(_sendToServer);\n\nvar _sendStore = __webpack_require__(5);\n\nvar _sendStore2 = _interopRequireDefault(_sendStore);\n\nvar _logger = __webpack_require__(0);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar viewStubBtn = document.querySelector('.view-stub__apply');\nvar viewStubInput = document.querySelector('.view-stub__input');\nvar str = void 0;\nviewStubBtn.addEventListener('click', function () {\n  str = viewStubInput.value;\n  if (str.length === 0) {\n    return;\n  }\n  viewStubInput.value = '';\n  (0, _sendToServer2.default)(str);\n});\n\nvar viewStubLabel = document.querySelector('.view-stub__label');\n_sendStore2.default.addListener(function (data) {\n  _logger2.default.log('рендер');\n  viewStubLabel.innerHTML = '\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440 \\u043F\\u0440\\u0438\\u043D\\u044F\\u043B \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435: ' + data;\n});\n\n//# sourceURL=webpack:///./src/js/index.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(8);\nmodule.exports = __webpack_require__(2);\n\n\n//# sourceURL=webpack:///multi_./src/js/index.js_./src/scss/style.scss?")}]);